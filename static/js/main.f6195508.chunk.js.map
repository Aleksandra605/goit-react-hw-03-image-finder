{"version":3,"sources":["components/modal-window/modal-styles.module.css","components/search-bar/SearchBar.js","components/gallery/ImageGalleryItem.js","components/services/fetchAPI.js","components/load-more/ButtonLoadMore.js","components/modal-window/Modal.js","components/gallery/ImageGallery.js","App.js","reportWebVitals.js","index.js","components/gallery/common-styles.module.css","components/search-bar/searchBar-styles.module.css"],"names":["module","exports","Searchbar","state","name","handleChange","event","currentTarget","value","setState","handleSubmit","preventDefault","trim","props","onSubmit","reset","alert","this","className","s","header","form","type","btn","search","autoComplete","autoFocus","placeholder","onChange","React","Component","ImageGalleryItem","src","alt","id","item","img","height","width","onClick","click","longdesc","large","fetchAPI","number","url","fetch","then","response","ok","json","Promise","reject","Error","ButtonLoadMore","page","incrementPage","prevState","clickLoadMoreBtn","setTimeout","callToApi","onLoadMore","data","hits","btnMore","modalRoot","document","querySelector","Modal","closeByEsc","code","close","closeByBackdrop","target","window","addEventListener","removeEventListener","createPortal","backdrop","children","ImageGallery","pictures","status","showModal","currentImage","getMorePictures","scrollTo","top","documentElement","scrollHeight","behavior","openModal","currentPic","find","pic","closeModalWindow","prevProps","prevName","newName","length","catch","error","toast","largeImageURL","tags","sm","largeImage","div","divLoader","color","secondaryColor","position","contentBox","list","map","picture","webformatURL","App","handleFormSubmit","someName","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f6195508.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"modal-styles_backdrop__2Ywlu\",\"largeImage\":\"modal-styles_largeImage__2lr23\"};","import React from 'react';\nimport { BiSearch } from 'react-icons/bi';\nimport s from './searchBar-styles.module.css';\n\nexport default class Searchbar extends React.Component {\n  state = {\n    name: '',\n  };\n\n  handleChange = event => {\n    const { name, value } = event.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { name } = this.state;\n\n    if (name.trim() === '') {\n      alert('Enter a word');\n      return;\n    }\n    this.props.onSubmit(name.trim());\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ name: '' });\n  };\n\n  render() {\n    const { name } = this.state;\n    return (\n      <header className={s.header}>\n        <form onSubmit={this.handleSubmit} className={s.form}>\n          <button type=\"submit\" className={s.btn}>\n            <span>\n              <BiSearch />\n            </span>\n          </button>\n\n          <input\n            name=\"name\"\n            className={s.search}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={name}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import s from './common-styles.module.css';\nimport React from 'react';\n\nexport default class ImageGalleryItem extends React.Component {\n  render() {\n    const { src, alt, id } = this.props;\n    return (\n      <li className={s.item}>\n        <img\n          src={src}\n          alt={alt}\n          className={s.img}\n          height=\"196px\"\n          width=\"270px\"\n          onClick={this.props.click}\n          id={id}\n          longdesc={this.props.large}\n        />\n      </li>\n    );\n  }\n}\n","const fetchAPI = function (value, number) {\n  const options = {\n    headers: {\n      API_KEY: '22346154-3962a348b9ad97506a5be6443',\n    },\n  };\n  const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${value}&page=${number}&per_page=12&key=${options.headers.API_KEY}`;\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`По запросу ${value} ничего не найдено (this is in reject)`),\n    );\n  });\n};\n\nexport default fetchAPI;\n","import React from 'react';\nimport s from '../gallery/common-styles.module.css';\nimport fetchAPI from '../services/fetchAPI';\n\nexport default class ButtonLoadMore extends React.Component {\n  state = {\n    page: 1,\n  };\n\n  incrementPage = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  clickLoadMoreBtn = () => {\n    this.incrementPage();\n    setTimeout(() => {\n      this.callToApi();\n    }, 500);\n  };\n\n  callToApi = () => {\n    const { name, onLoadMore } = this.props;\n    const page = this.state.page;\n\n    return fetchAPI(name, page).then(data => onLoadMore(data.hits));\n  };\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        className={s.btnMore}\n        onClick={this.clickLoadMoreBtn}\n      >\n        Load more\n      </button>\n    );\n  }\n}\n","import React from 'react';\nimport s from './modal-styles.module.css';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector(`#modal-root`);\n\nexport default class Modal extends React.Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeByEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeByEsc);\n  }\n\n  closeByEsc = event => {\n    if (event.code === 'Escape') {\n      this.props.close();\n    }\n  };\n\n  closeByBackdrop = event => {\n    if (event.target.src) {\n      return;\n    }\n    this.props.close();\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.backdrop} onClick={this.closeByBackdrop}>\n        {this.props.children}\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import s from './common-styles.module.css';\nimport React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Loader from 'react-loader-spinner';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport fetchAPI from '../services/fetchAPI';\nimport ButtonLoadMore from '../load-more/ButtonLoadMore';\nimport Modal from '../modal-window/Modal';\nimport sm from '../modal-window/modal-styles.module.css';\n\nexport default class ImageGallery extends React.Component {\n  state = {\n    pictures: null,\n    status: 'idle',\n    showModal: false,\n    currentImage: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.name;\n    const newName = this.props.name;\n    const page = 1;\n\n    // window.scrollTo({\n    //   top: document.documentElement.scrollHeight,\n    //   behavior: 'smooth',\n    // });\n\n    if (prevName !== newName) {\n      this.setState({ status: 'pending', pictures: null });\n\n      return fetchAPI(newName, page)\n        .then(({ hits }) => {\n          if (hits.length > 0) {\n            return this.setState({\n              status: 'resolved',\n              pictures: hits,\n            });\n          } else throw new Error(`По запросу ${newName} ничего не найдено`);\n        })\n        .catch(error => {\n          this.setState({ status: 'rejected' });\n          toast.error('No results were found for your search!');\n        });\n    }\n  }\n\n  getMorePictures = data => {\n    this.setState(prevState => ({\n      pictures: [...prevState.pictures, ...data],\n    }));\n\n    return window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  openModal = event => {\n    this.setState(state => ({\n      showModal: true,\n    }));\n\n    const currentPic = this.state.pictures.find(\n      pic => pic.id === +event.target.id,\n    );\n\n    this.setState({ currentImage: currentPic });\n  };\n\n  closeModalWindow = event => {\n    this.setState({ showModal: false, currentImage: null });\n  };\n\n  render() {\n    const { pictures, status, showModal } = this.state;\n\n    return (\n      <div>\n        {showModal === true && (\n          <Modal close={this.closeModalWindow}>\n            <img\n              src={this.state.currentImage.largeImageURL}\n              alt={this.state.currentImage.tags}\n              width=\"600px\"\n              className={sm.largeImage}\n            />\n          </Modal>\n        )}\n        {pictures === null && <p className={s.div}>Enter somethimg</p>}\n        {status === 'pending' && (\n          <div className={s.divLoader}>\n            <Loader\n              type=\"MutatingDots\"\n              color=\"#0b6470\"\n              secondaryColor=\"rgb(72, 163, 185)\"\n              height={100}\n              width={100}\n            />\n          </div>\n        )}\n        {status === 'rejected' && <ToastContainer position=\"top-center\" />}\n        {status === 'resolved' && (\n          <div className={s.contentBox}>\n            <ul className={s.list}>\n              {this.state.pictures.map(picture => (\n                <ImageGalleryItem\n                  src={picture.webformatURL}\n                  alt={picture.tags}\n                  key={picture.id}\n                  click={this.openModal}\n                  id={picture.id}\n                />\n              ))}\n            </ul>\n            <ButtonLoadMore\n              name={this.props.name}\n              onLoadMore={this.getMorePictures}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import './App.css';\nimport React from 'react';\nimport Searchbar from './components/search-bar/SearchBar';\nimport ImageGallery from './components/gallery/ImageGallery';\n\nexport default class App extends React.Component {\n  state = {\n    name: '',\n  };\n\n  handleFormSubmit = someName => {\n    this.setState({ name: someName });\n  };\n\n  render() {\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery name={this.state.name} />\n      </div>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"common-styles_list__o16vx\",\"item\":\"common-styles_item__AFNtJ\",\"div\":\"common-styles_div__2hMDA\",\"divLoader\":\"common-styles_divLoader__3uRIo\",\"contentBox\":\"common-styles_contentBox__3kOqu\",\"btnMore\":\"common-styles_btnMore__3Foh1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"searchBar-styles_header__2dvQL\",\"form\":\"searchBar-styles_form__2Ng0D\",\"search\":\"searchBar-styles_search__2GAVX\",\"btn\":\"searchBar-styles_btn__3xC46\"};"],"sourceRoot":""}